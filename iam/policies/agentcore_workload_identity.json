{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "CreateWorkloadIdentity",
            "Effect": "Allow",
            "Action": [
                "bedrock-agentcore:CreateWorkloadIdentity"
            ],
            "Resource": [
                "arn:aws:bedrock-agentcore:${aws_region}:${aws_account_id}:workload-identity-directory/default",
                "arn:aws:bedrock-agentcore:${aws_region}:${aws_account_id}:workload-identity-directory/default/workload-identity/*"
            ]
        },
        {
            "Sid": "GetAgentAccessToken",
            "Effect": "Allow",
            "Action": [
                "bedrock-agentcore:GetWorkloadAccessToken",
                "bedrock-agentcore:GetWorkloadAccessTokenForJWT",
                "bedrock-agentcore:GetWorkloadAccessTokenForUserId"
            ],
            "Resource": [
                "arn:aws:bedrock-agentcore:${aws_region}:${aws_account_id}:workload-identity-directory/default",
                "arn:aws:bedrock-agentcore:${aws_region}:${aws_account_id}:workload-identity-directory/default/workload-identity/*"
            ]
        },
        {
            "Sid": "GetResourceOauth2Token",
            "Effect": "Allow",
            "Action": [
                "bedrock-agentcore:GetResourceOauth2Token"
            ],
            "Resource": [
                "arn:aws:bedrock-agentcore:${aws_region}:${aws_account_id}:workload-identity-directory/default",
                "arn:aws:bedrock-agentcore:${aws_region}:${aws_account_id}:workload-identity-directory/default/workload-identity/*",
                "arn:aws:bedrock-agentcore:${aws_region}:${aws_account_id}:token-vault/default",
                "arn:aws:bedrock-agentcore:${aws_region}:${aws_account_id}:token-vault/default/*"
            ]
        },
        {
            "Sid": "GetSecretValue",
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetSecretValue"
            ],
            "Resource": [
                "arn:aws:secretsmanager:${aws_region}:${aws_account_id}:secret:*"
            ]
        }
    ]
}
